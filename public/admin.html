<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
</head>
<body>
    <button id="check-health">Check function health</button>
    <input type="file" id="file-input">
    <button id="upload">Upload</button>
    <script>
        const token = prompt("Enter admin token:");
        
        document.getElementById('check-health').onclick = async () => {
            const r = await fetch('/api/upload'); 
            alert(await r.text());
        };

        document.getElementById('upload').onclick = async () => {
            const fd = new FormData();
            const file = document.getElementById('file-input').files[0];
            fd.append('file', file);
            const r = await fetch('/api/upload', {
                method: 'POST',
                headers: { "x-admin-token": token },
                body: fd
            });
            alert(await r.text());
        };
    </script>
</body>
</html>
